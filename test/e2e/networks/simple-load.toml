# Example manifest with multiple load instances.

# Default values for all `run` instances.
load_tx_connections = 1
load_tx_size_bytes = 1024
load_max_duration = 90
load_wait_to_start = 5
load_wait_until = "mempools-are-empty"
load_wait_at_end = 5

prometheus = true

################################################################################
# Load instances
################################################################################

# `load` instances run sequentially.
[[load]] # load instance #1


# Default values for all `run`s in this `load` instance.
wait_to_start = 10
max_duration = 20

# This `load` instance has three `run` executions running in parallel. The big_txs run will start
# later than the others, it will finish after sending max_txs transactions, and it will only send
# transactions to one node.
run.small_txs = { batch_size = 100, tx_bytes = 1024 }
run.medium_txs = { batch_size = 10, tx_bytes = 10240 }
run.big_txs = { batch_size = 10, tx_bytes = 102400, connections = 10, wait_to_run = 20 }
run.big_txs.max_txs = 25
run.big_txs.target = ["validator01"]

[[load]] # load instance #2
run.1 = { batch_size = 100 }

[[load]] # load instance #3
run.2 = { batch_size = 200 }

[[load]] # load instance #4
run.3 = { batch_size = 400 }

################################################################################
# Testnet
################################################################################

[node.validator01]
[node.validator02]
[node.validator03]
[node.validator04]
